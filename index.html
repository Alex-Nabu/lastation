<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lastation</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="./assets/css/main.css">
    <link rel="stylesheet" href="./assets/css/tierSection2.css">
</head>
<body>
    <header>
        <div class="header d-flex">
            <div class="d-flex w-100 justify-content-end">
                <!-- <div class="socialLink">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 40 40" id="patreon"><path d="M23.75 9a8.25 8.25 0 1 1-8.26 8.26A8.26 8.26 0 0 1 23.75 9M9 31h4V9H9Z"/></svg>
                    <span class="link">
                        patreon.com/LaqtationVRC
                    </span>
                </div> -->
                <div class="socialLink">
                    <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 48 48" id="discord"><rect width="48" height="48" fill="#fff" rx="24"/><path fill="var(--themeBlue)" d="M36.0367 15.7798C33.8349 14.0183 31.1927 13.1376 28.4037 12.9908L27.9633 13.4312C30.4587 14.0183 32.6606 15.1926 34.7156 16.8073C32.2202 15.4862 29.4312 14.6055 26.4954 14.3119C25.6147 14.1651 24.8807 14.1651 24 14.1651C23.1193 14.1651 22.3853 14.1651 21.5046 14.3119C18.5688 14.6055 15.7798 15.4862 13.2844 16.8073C15.3394 15.1926 17.5413 14.0183 20.0367 13.4312L19.5963 12.9908C16.8073 13.1376 14.1651 14.0183 11.9633 15.7798C9.46789 20.4771 8.14679 25.7615 8 31.1926C10.2018 33.5413 13.2844 35.0092 16.5138 35.0092C16.5138 35.0092 17.5413 33.8349 18.2752 32.8073C16.367 32.367 14.6055 31.3394 13.4312 29.7248C14.4587 30.3119 15.4862 30.8991 16.5138 31.3394C17.8349 31.9266 19.156 32.2202 20.4771 32.5138C21.6514 32.6605 22.8257 32.8073 24 32.8073C25.1743 32.8073 26.3486 32.6605 27.5229 32.5138C28.844 32.2202 30.1651 31.9266 31.4862 31.3394C32.5138 30.8991 33.5413 30.3119 34.5688 29.7248C33.3945 31.3394 31.633 32.367 29.7248 32.8073C30.4587 33.8349 31.4862 35.0092 31.4862 35.0092C34.7156 35.0092 37.7982 33.5413 40 31.1926C39.8532 25.7615 38.5321 20.4771 36.0367 15.7798ZM19.156 28.5504C17.6881 28.5504 16.367 27.2293 16.367 25.6147C16.367 24 17.6881 22.6789 19.156 22.6789C20.6239 22.6789 21.945 24 21.945 25.6147C21.945 27.2293 20.6239 28.5504 19.156 28.5504ZM28.844 28.5504C27.3761 28.5504 26.055 27.2293 26.055 25.6147C26.055 24 27.3761 22.6789 28.844 22.6789C30.3119 22.6789 31.633 24 31.633 25.6147C31.633 27.2293 30.3119 28.5504 28.844 28.5504Z"/></svg>
                    <span class="link">
                        discord.gg/Lastation
                    </span>
                </div>
            </div>
        </div>
        <div class="banner">
            <div class="creative">
                <img src="./assets/images/creative.png" alt="">
            </div>
            <div class="logo">
                <img src="./assets/images/logo.png" alt="" class="">
            </div>
        </div>
    </header>
    <main class="content py-5">
        <div class="container-fluid" style="max-width:920px;width:100%">
            <section class="row">
                <div class="title">
                    Lastation
                </div>
                <div class="text">
                    Subscribe to Lastation
                </div>
            </section>
            <section class="section">
                <div class="row mt-3">
                    <div class="text">
                        Support lastation and gain access to VIP benefits
                    </div>
                </div>
            </section>
            <section class="section">
                <form action="">
                    <div class="row mt-3">
                        <div class="col-md-6 form-group">
                            <label class="label" for="">Email</label>
                            <input type="email" name="email" id="email" class="form-control">
                        </div>
                        <div class="col-md-6 form-group">
                            <label class="label" for="">Discord Username</label>
                            <input type="text" name="discordUsername" id="discordUser" class="form-control">
                        </div>
                        <div class="col-12 form-group mt-4">
                            <label class="label" for="">Select tier</label>
                            <div class="row justify-content-center justify-content-lg-between">
                                <div class="col-lg-6 col-11">
                                    <input type="radio" data-planid="P-72E99166DX625493SMSGXD3Y" checked name="tier" value="rainbowShrimp" id="rainbowShrimp">
                                    <label class="tierItem" for="rainbowShrimp">
                                        <div class="badge">
                                            <img src="./assets/images/shrimpIcon.png" alt="">
                                        </div>
                                        <div class="itemBox">
                                            <div class="title">
                                                Rainbow Shrimp
                                            </div>
                                            <div class="price">
                                                5USD/ Month
                                            </div>
                                            <div class="details">
                                                <ul>
                                                    <li>
                                                        Rainbow Shrimp Discord role.
                                                    </li>
                                                    <li>
                                                        Rainbow Shrimp icon & highlighted display name in our worlds.
                                                    </li>
                                                    <li>
                                                        QOL improvements, Such as the use of our portals to go between our worlds.
                                                    </li>
                                                    <li>
                                                        Priority support in Discord via the "Shrimp Squad" Channel.
                                                    </li>
                                                </ul>
                                            </div>
                                        </div>
                                    </label>
                                </div>
                                <div class="col-lg-6 col-11">
                                    <input type="radio" data-planid="P-3F281581WU6810531MSGXEVY" name="tier" value="vip" id="vip">
                                    <label class="tierItem" for="vip">
                                        <div class="badge">
                                            <img src="./assets/images/vipIcon.png" alt="">
                                        </div>
                                        <div class="itemBox">
                                            <div class="title">
                                                VIP
                                            </div>
                                            <div class="price">
                                                10USD/ Month
                                            </div>
                                            <div class="details">
                                                <ul>
                                                    <li>
                                                        VIP Discord role.
                                                    </li>
                                                    <li>
                                                        VIP icon & highlighted display name in our worlds.
                                                    </li>
                                                    <li>
                                                        VIP world access.
                                                    </li>
                                                    <li>
                                                        Access to a cloneable version of Kali(VRC's most advanced NSFW Avatar) [Coming soon]
                                                    </li>
                                                    <li>
                                                        Access to experimental items via the VIP world.
                                                    </li>
                                                    <li>
                                                        All previous tier perks.
                                                    </li>
                                                </ul>
                                            </div>
                                        </div>
                                    </label>
                                </div>
                                <div class="col-lg-6 col-11">
                                    <input type="radio" data-planid="P-0PL60680E87787412MSGXFIA" name="tier" value="customVip" id="customVip">
                                    <label class="tierItem" for="customVip">
                                        <div class="badge" style="background-color: var(--themeBlue);">
                                            <img src="./assets/images/vipIcon.png" style="filter: brightness(0) invert(1);" alt="">
                                        </div>
                                        <div class="itemBox">
                                            <div class="title">
                                                Custom VIP
                                            </div>
                                            <div class="price">
                                                20USD/ Month
                                            </div>
                                            <div class="details">
                                                <ul>
                                                    <li>
                                                        Custom image, username, and quote added to any world of your choice.
                                                    </li>
                                                    <li>
                                                        Custom VIP discord role.
                                                    </li>
                                                    <li>
                                                        Upload of the Kali(VRC's most advanced NSFW Avatar) [Coming soon]
                                                    </li>
                                                    <li>
                                                        Ability to request any asset to be added to our worlds if within our ability.
                                                    </li>
                                                    <li>
                                                        All previous tier perks.
                                                    </li>
                                                </ul>
                                            </div>
                                        </div>
                                    </label>
                                </div>
                                <div class="col-lg-6 col-11">
                                    <input type="radio" data-planid="P-1FA008260H6808024MSGXFXA" name="tier" value="uploadedVip" id="uploadedVip">
                                    <label class="tierItem" for="uploadedVip">
                                        <div class="badge" style="background-color: var(--themeNeonBlue);">
                                            <img src="./assets/images/vipIcon.png" style="filter: brightness(0) invert(1);" alt="">
                                        </div>
                                        <div class="itemBox">
                                            <div class="title">
                                                Uploaded VIP
                                            </div>
                                            <div class="price">
                                                50USD/ Month
                                            </div>
                                            <div class="details">
                                                <ul>
                                                    <li>
                                                        Upload of the current version of any of our worlds of your choice to your account.
                                                    </li>
                                                    <li>
                                                        All previous tier perks.
                                                    </li>
                                                </ul>
                                            </div>
                                        </div>
                                    </label>
                                </div>
                            </div>
                        </div>
                    </div>
                </form>
            </section>
            <section class="section mt-5">
                <div class="row px-3 px-lg-1">
                    <div data-sub-id="silver" class="payButton" style="width: 100%;margin:0px auto;width:100%"></div>
                </div>
            </section>
        </div>
    </main>
</body>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

<script src="./assets/js/config.js"></script>
<script src="./assets/js/main2.js"></script>
<link href="https://cdn.jsdelivr.net/npm/@sweetalert2/theme-dark@4/dark.css" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>


<script src="https://www.paypal.com/sdk/js?client-id=AaF1lXS3G0B9EPpwJN5HOCWn4uheHmkyZXlOiesH6F8870TmfsyM6iAf3OujHKHa2dc7ogaPZOtuUD4H&vault=true&intent=subscription" data-sdk-integration-source="button-factory"></script>
<!-- <div id="paypal-button-container-P-42X16022AU7371539MSQKGXQ"></div> 
<script src="https://www.paypal.com/sdk/js?client-id=AWnVcAm-QhDUGgLYCoSfrxoKnQcV8EtL20NkF52OUq5lSIM0O3zWohKVx8MovL1H42e-TQICFndyXA6c&vault=true&intent=subscription" data-sdk-integration-source="button-factory"></script> 
<script>



    var emailCheck=false;
    let email=$("#email");
    let discordUsername=$("#discordUser");

    function showError(error)
    {
        Swal.fire({
            title: 'Error!',
            text: error,
            icon: 'error',
            confirmButtonText: 'Continue'
        })
    }
  paypal.Buttons({
      style: {
          shape: 'rect',
          color: 'gold',
          layout: 'vertical',
          label: 'subscribe'
      },
      createSubscription: function(data, actions) {
        return actions.subscription.create({
          /* Creates the subscription */
          plan_id: 'P-42X16022AU7371539MSQKGXQ',
          userEmail:email.val()
        });
      },
      onClick:function(data,actions){
        if(email.val().trim()=="" || discordUsername.val().trim()=="")
        {
            showError("Please fill the form fields to continue");
            return actions.reject();
        }
        return new Promise((resolve,reject)=>{
            $.ajax({
                type:"get",
                url:`${apiHost}discord/checkUser/${email.val()}/${discordUsername.val()}`,
                success:function(res){
                    if(res.success===true)
                    {
                        resolve(actions.resolve());
                    }
                    else{
                        showError("There was some error");
                        resolve(actions.reject());
                    }
                },
                error:function(data){
                    var res=data.responseJSON;
                    showError(res.description);
                    resolve(actions.reject());
                }
            })
        })
      },
      onApprove: function(data, actions) {
        // console.log(actions);
        $.ajax({
            contentType:"application/json",
            data:JSON.stringify({
                "subId":data.subscriptionID,
                "email":email.val(),
                "discordUsername":discordUsername.val()
            }),
            type:"POST",
            url:`${apiHost}discord/store`,
            success:function(res){
                console.log(res);
            }
        });
    }
  }).render('#paypal-button-container-P-42X16022AU7371539MSQKGXQ'); // Renders the PayPal button
</script> -->

<script>

var emailCheck=false;
//  let email=$("#email");
//     let discordUsername=$("#discordUser");
 let planId="P-72E99166DX625493SMSGXD3Y";
  paypal.Buttons({
      style: {
          shape: 'pill',
          color: 'blue',
          layout: 'horizontal',
          disableMaxWidth: true ,
          label: 'subscribe'
      },
      createSubscription: function(data, actions) {
        return actions.subscription.create({
          plan_id: planId,
        });
      },
      onClick:function(data,actions){
        if(email.val().trim()=="" || discordUsername.val().trim()=="")
        {
            showError("Please fill the form fields to continue");
            return actions.reject();
        }
        return new Promise((resolve,reject)=>{
            $.ajax({
                type:"get",
                url:`${apiHost}discord/checkUser/${email.val()}/${discordUsername.val()}`,
                success:function(res){
                    if(res.success===true)
                    {
                        resolve(actions.resolve());
                    }
                    else{
                        showError("There was some error");
                        resolve(actions.reject());
                    }
                },
                error:function(data){
                    var res=data.responseJSON;
                    showError(res.description);
                    resolve(actions.reject());
                }
            })
        })
      },
      onApprove: function(data, actions) {
        $.ajax({
            contentType:"application/json",
            data:JSON.stringify({
                "subId":data.subscriptionID,
                "email":email.val(),
                "discordUsername":discordUsername.val()
            }),
            type:"POST",
            url:`${apiHost}discord/store`,
            success:function(res){
                Swal.fire({
                    title: 'Upgrade Success',
                    text: "Title Upgraded successfully",
                    icon: 'success',
                    confirmButtonText: 'Continue'
                })
            }
        });
      }
  }).render('.payButton'); // Renders the PayPal button
    

  function showError(error)
    {
        Swal.fire({
            title: 'Error!',
            text: error,
            icon: 'error',
            confirmButtonText: 'Continue'
        })
    }
</script>

</html>
